const char login_html[] PROGMEM = "<!DOCTYPE html><html><head> <title>uFR login</title> <script src=\"login.js\"></script> <link rel=\"stylesheet\" href=\"login.css\"></head><body><div class=\"login-page\"> <div class=\"form\"> <div class=\"login-form\"> <input type=\"text\" id=\"username\" placeholder=\"Username\" onfocus=\"hide()\"/> <input type=\"password\" id=\"password\" placeholder=\"Password\" onfocus=\"hide()\"/> <button onclick=\"login()\">login</button> <p class=\"message\" id=\"invalid\">Invalid username or password</p></div></div></div></body></html>";
const char login_css[] PROGMEM = ".login-page{width: 360px; padding: 8% 0 0; margin: auto;}.form{position: relative; z-index: 1; background: #FFFFFF; max-width: 360px; margin: 0 auto 100px; padding: 45px; text-align: center; box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);}.form input{font-family: sans-serif; outline: 0; background: #f2f2f2; width: 100%; border: 0; margin: 0 0 15px; padding: 15px; box-sizing: border-box; font-size: 14px;}.form button{font-family: sans-serif; text-transform: uppercase; outline: 0; background: #1f80bc; width: 100%; border: 0; padding: 15px; color: #FFFFFF; font-size: 14px; -webkit-transition: all 0.3 ease; transition: all 0.3 ease; cursor: pointer;}.form button:hover, .form button:active, .form button:focus{background: #256abc;}.form .message{margin: 15px 0 0; color: red; font-size: 12px; display: none;}.form .message a{color: #1f80bc; text-decoration: none;}body{background: #f5f5f5; font-family: sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}";
const char login_js[] PROGMEM = "function login(){var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function(){if (this.readyState==4){if(this.status==403){document.getElementById(\"invalid\").style.display=\"block\";}else if(this.status==200){setCookie(\"token\", b64EncodeUnicode(document.getElementById(\"username\").value + \":\" + document.getElementById(\"password\").value), 1); window.location=\"/main\";}}}; xhttp.open(\"POST\", \"auth\", false); xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"); xhttp.send(\"username=\"+ document.getElementById(\"username\").value +\"&password=\" + document.getElementById(\"password\").value);}function hide(){document.getElementById(\"invalid\").style.display=\"none\";}function setCookie(cname, cvalue, exhours){var d=new Date(); d.setTime(d.getTime() + (exhours * 60 * 60 * 1000)); var expires=\"expires=\"+d.toUTCString(); document.cookie=cname + \"=\" + cvalue + \";\" + expires + \";path=/\";}function b64EncodeUnicode(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function toSolidBytes(match, p1){return String.fromCharCode('0x' + p1);}));}";
const char main_html[] PROGMEM = "<html><head> <script src=\"script.js\"></script> <script src=\"script1.js\"></script> <script src=\"script2.js\"></script> <link rel=\"stylesheet\" href=\"style.css\"></head><body><div id='top'> <h4 id=\"logo\" onclick=\"informations()\">uFR Nano configurator</h4></div><div id='net1'> <div class=\"section\"> <h3 class=\"sectionheader\">UDP ports</h3> <div class=\"sep\"></div><br><label class=\"seplabel\" for=\"port1\">Port 1:</label><input class=\"sepinput\" id=\"port1\" type=\"number\" min=\"1\" max=\"65535\" disabled/><br/> <label class=\"seplabel\" for=\"port2\">Port 2:</label><input class=\"sepinput\" id=\"port2\" type=\"number\" min=\"1\" max=\"65535\" disabled/><br/> <button class=\"sepbutton\" onclick=\"udpbutton(this)\">Edit</button> </div><div class=\"section\"> <h3 class=\"sectionheader\" style=\"cursor: pointer\" id=\"transparentheader\" onclick=\"toggletransparent(this)\">Transparent mode - enabled</h3> <div class=\"sep\"></div><br><label class=\"seplabel\" id=\"transparentlabel\" for=\"reader\">Reader:</label><input class=\"sepinput\" id=\"reader\" type=\"number\" min=\"1\" max=\"2\" disabled/><br/> <button class=\"sepbutton\" id=\"transparentbutton\" onclick=\"transparentbutton(this)\">Edit</button> </div><div class=\"section\"> <h3 class=\"sectionheader\">Login</h3> <div class=\"sep\"></div><br><label class=\"seplabel\" for=\"loginusername\">Username:</label><input class=\"sepinput\" id=\"loginusername\" disabled type=\"text\"/><br/> <label class=\"seplabel\" for=\"loginpassword\">Password:</label><input class=\"sepinput\" id=\"loginpassword\" type=\"password\" disabled/><br/> <button class=\"sepbutton\" onclick=\"loginbutton(this)\">Edit</button> </div></div></body></html>";
const char style_css[] PROGMEM = "body{font-family: SansSerif, Calibri; overflow-x: hidden;}#top{position: fixed; height: 50px; background-color: #424242; top: 0; left: 0; width: 100%; z-index: 10000; display: none;}h3{font-weight: normal; margin-left: 20px;}h4{font-weight: normal; margin-left: 30px;}#net1{display: block  ; position: absolute; top: 50px; left: 0; color: #565656; width: 100%;}#logo, #settings{color: white; font-size: 16px; margin-top: 13px; display: inline-block; cursor: pointer;}#settings{float: right; margin-right: 25px;}.section{background-color: #f5f5f5; width: 40%; margin-left: 30%; margin-top: 50px; margin-bottom: 50px; border-radius: 5px; padding: 5px 10px 25px 10px;}.sectionheader{color: #007eff; font-weight: bold;}.sep{width: 95%; margin-left: 16px; height: 2px; background-color: #919191;}.seplabel{width:60px; float:left; font-size:14px; line-height:28px; font-weight:bold; margin-right: 15px; margin-left: 20px;}.sepinput{font-size: 14px; width:400px; margin-bottom:5px; line-height:18px; padding:2px 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; border:1px solid #CCC;}.sepbutton{margin-left: 410px; width: 100px; background-color: #dcdcdc; border: 2px solid #DCDCDC; color: black; padding: 4px 8px; text-align: center; text-decoration: none; font-size: 14px; -webkit-transition-duration: 0.4s; transition-duration: 0.4s; cursor: pointer; margin-top: 12px;}.sepbutton:hover{background-color: #555555; color: white;}";
const char script_js[] PROGMEM = "var transparentdevice;function toggletransparent(e){if (e.innerHTML==\"Transparent mode - enabled\"){var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function (){if (this.readyState==4 && this.status==200){var resp=this.responseText; if (resp==\"0\"){e.innerHTML=\"Transparent mode - disabled\";}}}; xhttp.open(\"GET\", \"toggletransparent\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send();}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function (){if (this.readyState==4 && this.status==200){var resp=this.responseText; if (resp==\"1\"){e.innerHTML=\"Transparent mode - enabled\";}}}; xhttp.open(\"GET\", \"toggletransparent\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send();}if (document.getElementById(\"transparentlabel\").style.display===\"none\"){document.getElementById(\"transparentlabel\").style.display=\"block\"; document.getElementById(\"reader\").style.display=\"block\"; document.getElementById(\"transparentbutton\").style.display=\"block\";}else{document.getElementById(\"transparentlabel\").style.display=\"none\"; document.getElementById(\"reader\").style.display=\"none\"; document.getElementById(\"transparentbutton\").style.display=\"none\";}}function transparentbutton(e){if (e.innerHTML==\"Edit\"){transparentdevice=document.getElementById(\"reader\").value; document.getElementById(\"reader\").disabled=false; e.innerHTML=\"Save\";}else{if (transparentdevice==document.getElementById(\"reader\").value){document.getElementById(\"reader\").disabled=true; e.innerHTML=\"Edit\";}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function (){if (this.readyState==4){if (this.status==200){var resp=this.responseText; if (resp.localeCompare(document.getElementById(\"reader\").value)==0){transparentdevice=document.getElementById(\"reader\").value; document.getElementById(\"reader\").disabled=true; e.innerHTML=\"Edit\";}}}}; xhttp.open(\"GET\", \"changetransparent\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send();}}}";
//const char script1_js[] PROGMEM = "document.addEventListener(\"DOMContentLoaded\", function(){if (getCookie(\"token\")==\"\"){window.location=\"/\";}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function (){if (this.readyState==4 && this.status==200){var resp=this.responseText; document.getElementById(\"port1\").value=resp.port1; document.getElementById(\"port2\").value=resp.port2; document.getElementById(\"reader\").value=resp.device; document.getElementById(\"loginusername\").value=resp.authuser; document.getElementById(\"loginpassword\").value=resp.authpass; if (resp.transparent==1){document.getElementById(\"transparentheader\").innerHtml=\"Transparent mode - enabled\"; document.getElementById(\"transparentlabel\").style.display=\"block\"; document.getElementById(\"reader\").style.display=\"block\"; document.getElementById(\"transparentbutton\").style.display=\"block\";}else{document.getElementById(\"transparentheader\").innerHtml=\"Transparent mode - disabled\"; document.getElementById(\"transparentlabel\").style.display=\"none\"; document.getElementById(\"reader\").style.display=\"none\"; document.getElementById(\"transparentbutton\").style.display=\"none\";}}}; xhttp.open(\"GET\", \"info\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send();}});function getCookie(cname){var name=cname + \"=\"; var ca=document.cookie.split(';'); for (var i=0; i < ca.length; i++){var c=ca[i]; while (c.charAt(0)==' '){c=c.substring(1);}if (c.indexOf(name)==0){return c.substring(name.length, c.length);}}return \"\";}function delete_cookie(name){document.cookie=name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';}";
const char script2_js[] PROGMEM = "function udpbutton(e){if (e.innerHTML==\"Edit\"){document.getElementById(\"port1\").disabled=false; document.getElementById(\"port2\").disabled=false; e.innerHTML=\"Save\";}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function(){if (this.readyState==4){if(this.status==200){var resp=this.responseText; if (resp.localeCompare(\"1\")==0){document.getElementById(\"port1\").disabled=true; document.getElementById(\"port2\").disabled=true; e.innerHTML=\"Edit\";}}}}; xhttp.open(\"POST\", \"setport\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send(\"port1=\"+ document.getElementById(\"port1\").value +\"&port2=\" + document.getElementById(\"port2\").value);}}function loginbutton(e){if (e.innerHTML==\"Edit\"){document.getElementById(\"loginusername\").disabled=false; document.getElementById(\"loginpassword\").disabled=false; e.innerHTML=\"Save\";}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function(){if (this.readyState==4){if (this.status==200){var resp=this.responseText; if (resp.localeCompare(\"1\")==0){document.getElementById(\"loginusername\").disabled=true; document.getElementById(\"loginpassword\").disabled=true; e.innerHTML=\"Edit\"; delete_cookie(\"token\"); location.reload();}}}}; xhttp.open(\"GET\", \"changetransparent\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send(\"username=\"+ document.getElementById(\"loginusername\").value +\"&password=\" + document.getElementById(\"loginpassword\").value);}}";
const char script1_js[] PROGMEM = "document.addEventListener(\"DOMContentLoaded\", function(){if (getCookie(\"token\")==\"\"){window.location=\"/\";}else{var xhttp=new XMLHttpRequest(); xhttp.onreadystatechange=function (){if (this.readyState==4 && this.status==200){var resp=JSON.parse(this.responseText); document.getElementById(\"port1\").value=resp.port1; document.getElementById(\"port2\").value=resp.port2; document.getElementById(\"reader\").value=resp.device; document.getElementById(\"loginusername\").value=resp.authuser; document.getElementById(\"loginpassword\").value=resp.authpass; var tm=resp.transparent; if (tm.localeCompare(\"1\")==0){document.getElementById(\"transparentheader\").innerHtml=\"Transparent mode - enabled\"; document.getElementById(\"transparentlabel\").style.display=\"block\"; document.getElementById(\"reader\").style.display=\"block\"; document.getElementById(\"transparentbutton\").style.display=\"block\";}else{document.getElementById(\"transparentheader\").innerHtml=\"Transparent mode - disabled\"; document.getElementById(\"transparentlabel\").style.display=\"none\"; document.getElementById(\"reader\").style.display=\"none\"; document.getElementById(\"transparentbutton\").style.display=\"none\";}}}; xhttp.open(\"GET\", \"info\"); xhttp.setRequestHeader(\"Authorization\", \"Basic \" + getCookie(\"token\")); xhttp.send();}});function getCookie(cname){var name=cname + \"=\"; var ca=document.cookie.split(';'); for (var i=0; i < ca.length; i++){var c=ca[i]; while (c.charAt(0)==' '){c=c.substring(1);}if (c.indexOf(name)==0){return c.substring(name.length, c.length);}}return \"\";}function delete_cookie(name){document.cookie=name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';}";
